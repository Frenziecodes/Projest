<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Project</title>
     <!-- Font Awesome -->
     <link
     href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
     rel="stylesheet"
     />
     <!-- Google Fonts -->
     <link
     href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
     rel="stylesheet"
     />
     <!-- MDB -->
     <link
     href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.1.0/mdb.min.css"
     rel="stylesheet"
     />
     <script src="https://cdn.tailwindcss.com"></script>
     <link rel="stylesheet" href="./assets/css/style.css">
     <link href="/dist/output.css" rel="stylesheet">
     <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-app.js"></script>
     <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-database.js"></script>
</head>
<body>

    <!-- navbar -->
    <div class="flex justify-between items-center align-middle h-16 w-full bg-blue-600 text-white py-2 px-3 fixed top-0 left-0 right-0 z-30 mb-16">
        <div class="flex justify-center items-center">
          <a href="index.html" class="animate__animated animate__wobble  hover:text-blue-900 ">PROJEST</a>
        </div>
        <ul class="hidden md:flex md:justify-center md:items-center">
            <li class="m-2 md:m-5 "><a href="index.html">Home</a></li>
            <li class="dropdown m-2 md:m-5 bg-blue-900 px-4 py-1 rounded-sm">
                <a href="#">Projects</a>
                <ul class="dropdown-content p-1 bg-blue-500 absolute">
                  <li class="m-2"><a href="viewproject.html">View Project</a></li>
                  <li class="m-2"><a href="addproject.html">Add Project</a></li>                  
                </ul>
            </li>         
            <li class="m-2 md:m-5"><a href="docs.html">Docs</a></li>
            <li class="m-2 md:m-5"><a href="contributing.html">Contributing</a></li>            
        </ul> 
        <!-- sidenav -->
        <div id="mySidenav" class="sidenav bg-blue-600">
          <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
          <a href="index.html">Home</a>
          <li class="dropdown">
            <a href="#">Projects</a>
            <ul class="dropdown-content2 p-1 bg-blue-500 absolute">
              <li class="m-2"><a href="viewproject.html">View Project</a></li>
              <li class="m-2"><a href="addproject.html">Add Project</a></li>                  
            </ul>
          </li>
          <a href="docs.html">Docs</a>
          <a href="contributing.html">Contributing</a>          
        </div>

        <div class="md:hidden" onclick="openNav()">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-7 h-7">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
          </svg>
        </div>   
     </div>

     <form id="project-form" class="mt-16 pt-2 flex flex-col justify-center items-center w-full">
      <h3 class="font-medium leading-tight text-center text-2xl mt-0 mb-2 text-blue-600">Fill in the project details</h3>
      <section class="md:flex md:flex-row">
        <section class="md:mr-4">
          <div class="w-full flex justify-center">       
            <div class="flex justify-center">
              <div class="mb-3 xl:w-96">            
                <input
                  type="text"
                  class="form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
                  id="title" placeholder="Project Title"
                />
              </div>
            </div>
          </div>      

          <div class="w-full flex justify-center">       
            <div class="flex justify-center">
              <div class="mb-3 xl:w-96">            
                <textarea
                  type="text"
                  class="form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
                  id="description" placeholder="Project Description"
                ></textarea>
              </div>
            </div>
          </div>

          <div class="w-full flex justify-center">       
            <div class="flex justify-center">
              <div class="mb-3 xl:w-96">            
                <input
                  type="text"
                  class="form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
                  id="userGitHubLink" placeholder="User GitHub Link"
                />
              </div>
            </div>
          </div>

          <div class="w-full flex justify-center">       
            <div class="flex justify-center">
              <div class="mb-3 xl:w-96">            
                <input
                  type="text"
                  class="form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
                  id="projectGitHubLink" placeholder="Project GitHub Link"
                />
              </div>
            </div>
          </div>
        </section>

        <section class="md:mt-0">
          <h3 class="text-center">Select Project Tags:</h3>
          <div id="tag-list" class="flex flex-col items-center mt-1 md:mt-0 md:items-start">
            <div class="mb-2 flex">
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Javascript">JavaScript</label>
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Python">Python</label>
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Java">Java</label>          
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="PHP">PHP</label>         
            </div>

            <div class="mb-2">          
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="HTML">HTML</label>
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="React">React</label>
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Vue">Vue</label>
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Angular">Angular</label>
              
            </div>
            <div class="mb-2">
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Tailwind">Tailwind</label>
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Bootstrap">Bootstrap</label>          
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="CSS">CSS</label>
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="C#">C#</label>
            </div>

            <div class="mb-2 flex justify-between">
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Front-End">Front-End</label>
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Back-End">Back-End</label>
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Full-Stack">Full-Stack</label>
            </div>
            
            <div class="mb-2 flex justify-between">
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Kotlin">Kotlin</label>
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="TypeScript">TypeScript</label>
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Rust">Rust</label>
              <label class="bg-blue-600 mr-1 rounded-sm outline-none border-none text-center text-white p-1"><input type="checkbox" value="Swift">Swift</label>
            </div>            

          </div>
        </section>
      </section>
      <br>
      <div class="flex  justify-center">
        <button type="submit" class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out">Submit</button>
      </div>      
    </form>
    
    <script>
      // Initialize Firebase
      var firebaseConfig = {
        apiKey: "AIzaSyDSKCtNzXr2QF4M76gTExS8ZUBoedvKwBA",
        authDomain: "projest-3kf.firebaseapp.com",
        databaseURL: "https://projest-3kf-default-rtdb.firebaseio.com/",
        projectId: "projest-3kf",
        storageBucket: "projest-3kf.appspot.com",
        messagingSenderId: "288268902129",
        appId: "1:288268902129:web:a4d6e00506d95427a69350",
        measurementId: "G-X074W4XF2X"
      };
      firebase.initializeApp(firebaseConfig);
      
      // Get a reference to the database
      var database = firebase.database();
      
      // Get a reference to the form and add a submit event listener
      var form = document.querySelector("#project-form");
      form.addEventListener("submit", function(e) {
        e.preventDefault();
        
        // Get the values from the form fields
        var title = document.querySelector("#title").value;
        var description = document.querySelector("#description").value;
        var userGitHubLink = document.querySelector("#userGitHubLink").value;
        var projectGitHubLink = document.querySelector("#projectGitHubLink").value;
        
        // Get the selected tags
        var tagList = document.querySelector("#tag-list");
        var tags = [];
        for (var i = 0; i < tagList.children.length; i++) {
          var tag = tagList.children[i];
          for(var j = 0; j < tag.childElementCount; j++){
            if (tag.children[j].childNodes[0].checked) { //checks if checkbox is true
              tags.push(tag.children[j].control.value);
            }
          }
        }
        
        // Add the new project to the database
        database.ref("projects").push({
          title: title,
          description: description,
          userGitHubLink: userGitHubLink,
          projectGitHubLink: projectGitHubLink,
          tags: tags
        });
        // Send user confirmation message that project has been added
        alert("Project Added!")
        // Clear the form fields
        form.reset();
      });
        function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
      }

      function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
      }
    </script>
    
</body>
</html>
